{% extends 'admin_base.html' %}

{% block Admin %}
    <p><button type="button" class="btn btn-info" data-toggle="modal" data-target="#adduser" href="">添加用户</button></p>
    <div id="adduser" class="modal fade" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-body">
                    <button class="close" data-dismiss="modal">
                        <span>×</span>
                    </button>
                </div>
                <div class="modal-title">
                    <h1 class="text-center">添加用户</h1>
                </div>
                <div class="modal-body">
                    <form class="form-group" action="/admin/user/add/" method="post">
                            <div class="form-group">
                                <label for="">用户名</label>
                                <input class="form-control" type="text" name="username" placeholder="请输入用户名">
                            </div>
                            <div class="form-group">
                                <label for="">密码</label>
                                <input class="form-control" type="password" name="password" placeholder="请输入密码">
                            </div>
                            <div class="form-group">
                                <label for="">邮箱</label>
                                <input class="form-control" type="email" name="email" placeholder="请输入邮箱">
                            </div>
                            <div class="text-right">
                                <button class="btn btn-primary" type="submit">提交</button>
                                <button class="btn btn-danger" data-dismiss="modal">取消</button>
                            </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <table class="table table-hover">
        <thead>
            <tr>
                <th style="vertical-align: middle;text-align: center;">用户名</th>
                <th style="vertical-align: middle;text-align: center;">邮箱</th>
                <th style="vertical-align: middle;text-align: center;">分数</th>
                <th style="vertical-align: middle;text-align: center;">权限</th>
                <th style="vertical-align: middle;text-align: center;">操作</th>
            </tr>
        </thead>
        <tbody>
            {% for item in items %}
            <tr>
                <td style="vertical-align: middle;text-align: center;"><a href="/admin/user/view/{{ item[0] }}">{{ item[0] }}</a></td>
                <td style="vertical-align: middle;text-align: center;">{{ item[1] }}</td>
                <td style="vertical-align: middle;text-align: center;">{{ item[2] }}</td>
                <td style="vertical-align: middle;text-align: center;">{{ item[3] }}</td>
                <td style="vertical-align: middle;text-align: center;"><a href="/admin/user/setadmin/{{ item[0] }}">管理员</a>/<a href="/admin/user/unsetadmin/{{ item[0] }}">普通用户</a>/<a href="/admin/user/del/{{ item[0] }}">删除</a></td>
            </tr>
            {% end %}
        </tbody>
    </table>
{% end %}